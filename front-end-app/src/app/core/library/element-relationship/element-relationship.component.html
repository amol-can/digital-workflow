<h4>Manage Study Design Element Relationship</h4>
<hr>
<br>
<div class="container">
  <div class="row">
    <div class="col-12">
      <div class="border" style="padding: 50px;" id="addElement">
        <form #relationForm="ngForm" (ngSubmit)="addElementRelationship(relationForm)" ngNativeValidate>

          <p>Form value: {{ relationForm.value | json }}</p>

          <!-- Root element, on click populate existing values -->
          <label for="elementToManage">Study Design Element</label>
          <small id="elementToManage" class="form-text text-muted">Select element to manage the relationship between
            them.</small>
          <div class="input-group">
            <select class="custom-select" id="sdElement1" name="sdElement1"
              [(ngModel)]="elementRelationship.elementType" required>
              <!-- added reference-library call -->
              <option *ngFor="let sde of sdeLibrary$" [value]="sde.studyDesignElement">{{ sde.studyDesignElement}}
              </option>
            </select>
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button">Search</button>
            </div>
          </div>

          <hr>

          <!-- Manage relationship -->
          <table class="table table-hover">
            <thead class="thead-light">
              <tr>
                <th scope="col">Element</th>
                <th scope="col">Related</th>
                <th scope="col">Mandatory</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let sde of sdeLibrary$">
                <td scope="row">
                  <input name="sdElement2" value="{{ sde.studyDesignElement}}" readonly>
                </td>

                <td>
                  <div class="form-check">
                    <input class="form-check-input position-static" type="checkbox" id="related{{ sde.elementId }}"
                      name="related" value="1" aria-label="..." [ngModel]="elementRelationship.relatesTo">
                  </div>
                </td>
                <td>
                  <div class="form-check">
                    <input class="form-check-input position-static" type="checkbox" id="mandatory{{ sde.elementId }}"
                      name="mandatory" value="1" aria-label="..." [ngModel]="elementRelationship.mandatory">
                  </div>
                </td>
              </tr>
            </tbody>
          </table>

          <button type="submit" class="btn btn-primary">Save</button>

        </form>
      </div>
    </div>
  </div>
</div>